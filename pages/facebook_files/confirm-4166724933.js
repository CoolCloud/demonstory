Do("dui:overlay",function(){var a=window.Ark||{};window.Ark=a;var b=['<div class="dialog-content-bd">','<p class="confirm-text"></p>','<div class="confirming-actions">','<a class="btn btn-large btn-confirm" href="#" data-confirm="true"></a>','<a class="btn btn-large btn-minor btn-cancel" href="#" data-confirm="false"></a>',"</div></div>"].join("");a.confirm=function(d){if(a.confirm.timeoutHandler){a.confirm.clearTimeout()}var c=new $.Deferred(),e=dui.overlay();d.width=d.width||400;if(d.yesNoPattern){var f=d.content;d.content=$(b).find(".confirm-text").text(f).end().find(".btn-confirm").text(d.yesText).end().find(".btn-cancel").text(d.noText).end().html()}e.setConfig(d).render();e.panel.addClass("dialog-confirm");e.panel.removeClass("dialog-alert").find(".lnk-close").attr("data-confirm","false");e.show();e.panel.one("click","[data-confirm]",function(){var g=$(this).data("confirm");c[g?"resolve":"reject"](e)});e.panel.find("input").keypress(function(g){if(g.which===13){e.panel.find('[data-confirm="true"]').trigger("click")}});return c.promise().always(function(){a.confirm.timeoutHandler=setTimeout(function(){a.confirm.clearTimeout();e.close()},50)})};a.confirm.clearTimeout=function(){var d=a.confirm;clearTimeout(d.timeoutHandler);d.timeoutHandler=null}});